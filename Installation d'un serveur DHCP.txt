Installation d'un serveur DHCP 


1) Installation et configuration du serveur DHCP :

    sudo apt install isc-dhcp-server -y
        
    sudo nano /etc/dhcp/dhcpd.conf

        option domain-name "exemple.local";
            # Nom du domaine (optionnel), correspond au nom complet des appareils du réseau (du domaine) exemple : imprimante.exemple.local  

        option domain-name-servers 192.168.1.1;
            # Adresse de la machine qui fait office de serveur DNS (ici le routeur)

        default-lease-time 600;
        max-lease-time 7200;
            # Durée du bail (lease) pour une IP

        subnet 192.168.1.0 netmask 255.255.255.0 {
        range 192.168.1.100 192.168.1.200;
            # La range ne doit pas couvrir l'adresse IP fixe du serveur DHCP pour qu'il n'y ait pas de conflits
        option routers ip_de_la_LAN;
        option broadcast-address 192.168.1.255;
        }
        # Définition du réseau à distribuer, c'est l'interface LAN qui représente le routeur côté réseau local
        
        host imprimante {
            # "imprimante" est juste un nom au sein du fichier DHCP ce n'est pas forcément le nom d'hôte de la machine sur le réseau. 
            # Puisque cela nécessite une résolution DNS
        hardware ethernet 00:AA:BB:CC:DD:EE;
            # Adresse MAC de la machine pour l'identification
        fixed-address 192.168.1.10;
            # Cette ligne sert à attribuer une adresse IP fixe à la machine
        }


2) Association du serveur DHCP à la carte réseau à laquelle on attribue une IP statique :

    sudo nano /etc/default/isc-dhcp-server
        INTERFACESv4="nom_de_l'interface_réseau_qui_va_agir_en_tant_que_serveur_DHCP"
        INTERFACESv6=""

    sudo nano /etc/network/interfaces
        auto enp0s8
        iface enp0s8 inet static
        address 192.168.1.0       
            # Attribue une adresse IP locale statique à la carte LAN qui héberge le serveur DHCP
        netmask 255.255.0.0


3) Démarrer et activer le service :

    sudo systemctl restart isc-dhcp-server
    sudo systemctl enable isc-dhcp-server
    sudo systemctl status isc-dhcp-server
    sudo systemctl restart networking


4) Vérifier le fonctionnement :

    ip addr
        # On vérifie l'attribution de l'IP à la carte réseau local

    journalctl -f
        # journalctl : lit le journal systemd (journald).
        # Ce journal est stocké dans un format binaire et contient non seulement le message de log,
        # mais aussi des métadonnées structurées (nom de l’unité systemd, PID, identifiant syslog, priorité, exécutable, boot id, etc.).    
        # -f : (follow) ouvre le journal et stream les nouvelles entrées au fur et à mesure qu’elles arrivent

    # Les requêtes DHCP doivent y apparaître







